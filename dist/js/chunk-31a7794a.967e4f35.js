(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31a7794a"],{1480:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"home"}},[e("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3},on:{scroll:t.contenScroll}},[e("music-sotre",{attrs:{store:t.store}}),e("music-box",{attrs:{store:t.store},on:{imgLoad:t.imgLoad}}),e("new-music",{attrs:{"new-music":t.newMusic,id:t.iid}})],1),e("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],nativeOn:{click:function(s){return t.backClick(s)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isToast,expression:"isToast"}],staticClass:"bug-title"},[t._v(' 进来可能有很多Bug, 常见的是首页"最新音乐"没有加载过来倒致无法下拉 '),e("span",{staticClass:"speaking"},[t._v("(本人技术不精，以后调整)")])])],1)},n=[],a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("main-top-title")],1)},c=[],o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("top-title",[e("span",[t._v("推荐歌单")])])},l=[],r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top-title"},[e("i",{staticClass:"line"}),t._t("default")],2)},u=[],p={name:"TopTitle"},m=p,d=(e("6c26"),e("2877")),f=Object(d["a"])(m,r,u,!1,null,"043bdac8",null),h=f.exports,v={name:"MainTopTitle",components:{TopTitle:h}},b=v,_=Object(d["a"])(b,o,l,!1,null,"1ce0d882",null),w=_.exports,T={name:"MusicSotre",components:{MainTopTitle:w},filters:{}},C=T,k=Object(d["a"])(C,a,c,!1,null,"944e2928",null),$=k.exports,g=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},t._l(t.store,(function(s,i){return e("div",{staticClass:"main-box",on:{click:function(s){return t.itemClick(i)}}},[e("img",{attrs:{src:s.picUrl,alt:""},on:{load:t.imgLoad}}),e("span",{staticClass:"title"},[t._v(t._s(s.name))]),e("play-count",[e("i",{staticClass:"listen"},[t._v(t._s((s.playCount/1e4).toFixed(2)+"万"))])])],1)})),0)},M=[],x=e("53c4"),y={name:"MusicBox",components:{PlayCount:x["a"]},props:{store:{type:Array,default(){return[]}}},computed:{},methods:{imgLoad(){this.$emit("imgLoad")},itemClick(t){this.$router.push("/detail/"+this.store[t].id)}},destroyed(){}},O=y,j=(e("88ae"),Object(d["a"])(O,g,M,!1,null,"2016d205",null)),B=j.exports,E=e("5d17"),S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"new-music"},[e("top-title",[e("span",[t._v("最新音乐")])]),t._l(t.newMusic,(function(s,i){return e("div",{staticClass:"main",on:{click:function(s){return t.itemClick(i)}}},[e("span",{staticClass:"song"},[t._v(t._s(s.name))]),s.song.alias[0]?e("span",[e("span",{staticClass:"song-anther"},[t._v(t._s("("+s.song.alias[0]+")"))])]):t._e(),e("div",{staticClass:"sing"},[t._v(t._s(s.song.artists[0].name+" - "+s.song.name))]),e("i",{staticClass:"start"})])}))],2)},N=[],L={name:"NewMusic",components:{TopTitle:h},props:{newMusic:{type:Array,default(){return[]}},id:{type:Number,default:0}},methods:{itemClick(t){this.$router.push("/play/"+this.newMusic[t].id)}}},A=L,Y=(e("820c"),Object(d["a"])(A,S,N,!1,null,"73b150ae",null)),z=Y.exports,J=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"back-top"},[e("span",[t._v("top")])])}],F={name:"BackTop"},H=F,U=(e("54b5"),Object(d["a"])(H,J,P,!1,null,"597f36b4",null)),q=U.exports,D=e("1ae0");function G(){return Object(D["a"])({url:"/personalized"})}function I(){return Object(D["a"])({url:"/personalized/newsong"})}var K={name:"Home",components:{MusicSotre:$,MusicBox:B,Scroll:E["a"],NewMusic:z,BackTop:q},data(){return{iid:null,store:[],newMusic:[],isBackTop:!0,saveY:null,isShow:!0,isToast:!1}},activated(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh(),this.$bus.$emit("showTopApp",!0)},deactivated(){this.saveY=this.$refs.scroll.scroll.y,this.$bus.$emit("isShowTopApp",!1)},created(){this.getMusicSotre(),this.bestNewMusic()},methods:{backClick(){this.$refs.scroll.scrollTo(0,0,500)},contenScroll(t){this.isBackTop=-t.y>300},imgLoad(){this.$refs.scroll.refresh(),this.isToast=!0,setTimeout(()=>{this.isToast=!1},6e3)},debounce(t,s){let e=null;return function(...i){e&&clearTimeout(e),e=setTimeout(()=>{t.apply(this,i)},s)}},getMusicSotre(){G().then(t=>{this.store=t.result,this.iid=t.result[0].id})},bestNewMusic(){I().then(t=>{this.newMusic=t.result})}}},Q=K,R=(e("6866"),Object(d["a"])(Q,i,n,!1,null,"f4b27b10",null));s["default"]=R.exports},"34c2":function(t,s,e){"use strict";e("d371")},"53c4":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"count"},[e("div",{staticClass:"listen"},[t._t("default")],2)])},n=[],a={name:"PlayCount"},c=a,o=(e("34c2"),e("2877")),l=Object(o["a"])(c,i,n,!1,null,"1cd7e562",null);s["a"]=l.exports},"54b5":function(t,s,e){"use strict";e("c5fb")},"61ce":function(t,s,e){},"643b":function(t,s,e){},6866:function(t,s,e){"use strict";e("feb1")},"6c26":function(t,s,e){"use strict";e("61ce")},"820c":function(t,s,e){"use strict";e("a385")},"88ae":function(t,s,e){"use strict";e("643b")},a385:function(t,s,e){},c5fb:function(t,s,e){},d371:function(t,s,e){},feb1:function(t,s,e){}}]);
//# sourceMappingURL=chunk-31a7794a.967e4f35.js.map